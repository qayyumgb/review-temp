<div class="Acc-main-outer">
  <ng-container *ngIf="getAcc_list!=''">
    <div class="acc-left-tabs">
      <!--[activeLeftGrid]="activeLeftGrid"-->
      <app-account-left (clickedFundedData)="receiveDataFromChildFunded($event)" (clickedNonFundedData)="receiveDataFromChildNonFunded($event)" [getAcc_list_Funded]="getAcc_list_AccountList_Funded" [getAcc_list_NonFunded]="getAcc_list_AccountList"></app-account-left>
    </div>
    <div class="acc-right" [class.no_bg]="!showAccOverview">
      <!--<app-account-center></app-account-center>-->
      <!-- Funded Tab -->
      <div class="FundedTab p-rel" *ngIf="show_tab_content">
    
        <ng-container *ngIf="showAccOverview">
          @if(showMatLoaderAccountsRight){
          <div>
            <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
          </div>
          }
          <!-- Nav tabs -->
          <ng-container *ngIf="selectedAccList != undefined && selectedAccList != ''">
            <ul class="nav nav-tabs" id="accNavTab" role="tablist" style="padding-left: 0;">
              <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#menu2" (click)="openHisInput = false;" data-myvalue="Portfolio">Portfolio</a>
              </li>
              <li class="nav-item d-flex position-relative" style="align-items:center;">
                <a class="nav-link" data-bs-toggle="tab" href="#accHistory" (click)="openHisInput = true;" data-myvalue="History">History</a>
              </li>
              <li *ngIf="!tradeLock_Strategy">
                <a href="" class="controlOptions dropdown-toggle" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <span class="material-symbols-outlined material-icons">tune</span>
                </a>
                <div class="dropdown-menu dropdownsubmenu controlSubOptions" aria-labelledby="thumnailSettings">
                  <ul>
                    <li><a *ngIf="sharedData.checkShowLeftTab(22)=='A'" (click)="editLidt()">Restricted List </a></li>
                    <li><a *ngIf="sharedData.checkShowLeftTab(22)=='A'" (click)="dontLidt()">Don't Sell</a></li>
                    <li><a (click)="dontBuy()">Don't Buy</a></li>
                    <li><a (click)="taxOpt()">Tax Optimization</a></li>
                    <li><a (click)="checkCR('#AccRateEditModal')">Tax Rate</a></li>
                    <li><a (click)="checkCR('#AccCashEditModal')">Cash Target</a></li>
                    <li *ngIf="alreadyselected_strategy!=undefined"><a (click)="checkAcc('CR')">Cash Raise</a></li>
                    <li *ngIf="checkPreviousDataSource.length > 0"><a (click)="checkAcc('LD');checkLiqDate = false;"> Liquidate</a></li>
                  </ul>
                </div>
              </li>
              <li *ngIf="tradeLock_Strategy" class="d-flex align-items-center">
                <a class="lockedTxt" data-bs-target="#accTempLockedInfo" data-bs-toggle="modal">Account Locked</a>
                <a class="controlOptions" style="display: flex; align-items: center; padding: 0.25rem; z-index: 9;"><span class="material-icons" style=" font-size: 1.2rem; color: var(--warningColor);">lock</span></a>
              </li>
            </ul>
          </ng-container>
          <!-- Nav tabs -->
          <div class="tab-content" *ngIf="selectedAccList != undefined && selectedAccList != ''">
            <!-- Portfolio -->
            <div id="menu2" class="tab-pane active">
              <!-- Account & market value Details -->
              <div class="d-flex">
                <div class="profile_details d-flex">
                  <div class="acc-list">
                    <div>
                      <div *ngIf="selectedAccList != ''">
                        <div class="d-flex mb-2 align-items-center">
                          <p class="acc-number m0">Account:&nbsp; <b>{{selectedAccList.accountVan}}</b></p>
                          <a class="btn_gp ml0_5rem d-flex align-items-center cursor-pointer" data-bs-toggle="modal" data-bs-target="#myAccount_pauseTrade" *ngIf="!pauseTotalTrade" style="font-size: 0.65rem; padding: 0.2rem 0.7rem;">
                            <span class="material-icons" style="font-size: 0.85rem;margin-right: 0.25rem;">pause_circle_outline</span> Pause Trade
                          </a>
                          <a class="btn_gp ml0_5rem d-flex align-items-center cursor-pointer" style="font-size: 0.65rem; padding: 0.2rem 0.7rem;" data-bs-toggle="modal" data-bs-target="#myAccount_pauseTrade" *ngIf="pauseTotalTrade">
                            <span class="material-icons" style="font-size: 0.85rem;margin-right: 0.25rem;">play_circle_outline</span> Play Trade
                          </a>
                          <!-- Direct Trade -->
                          @if(sharedData.checkMenuPer(5, 3281) == 'Y'){
                          <a class="btn_gp ml0_5rem d-flex align-items-center cursor-pointer" style="font-size: 0.65rem; padding: 0.2rem 0.7rem;" (click)="directTrade()">
                            <span class="material-icons" style="font-size: 0.85rem;margin-right: 0.25rem;">upload</span> Direct Trade
                          </a>
                          }@else if(sharedData.checkMenuPer(5, 3281) == 'D'){
                          <a class="btn_gp ml0_5rem d-flex align-items-center disabled" style="font-size: 0.65rem; padding: 0.2rem 0.7rem;">
                            <span class="material-icons" style="font-size: 0.85rem;margin-right: 0.25rem;">upload</span> Direct Trade
                          </a>
                          }
                          <!-- Direct Trade -->
                        </div>

                        <p class="acc-title">
                          Title:&nbsp; <b>{{selectedName}}</b>
                          <a href="#" class="accTitleEdit" data-bs-toggle="modal" data-bs-target="#myAccount_TitleEdit"><span class="material-icons m0">create</span></a>
                        </p>
                        <div class="d-flex align-items-center acc-last-updated">
                          Last Updated date:&nbsp; <b>{{lastRefrestDateInd | date: 'MM/dd/yyyy HH:mm' }}</b>&nbsp;
                          <div class="refresh" *ngIf="!tradeLock_Strategy">
                            <a class="d-flex align-items-center cursor-pointer" (click)="refreshInd_accounts()">
                              <span class="material-icons">refresh</span>Refresh
                            </a>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="d-flex align-items-center acc-strategy">
                      <div class="index_strategy d-flex align-items-center mt0_5rem" *ngIf="alreadyselected_strategy != undefined && AT_strategyListDetails != undefined">
                        <div class="d-flex mr1rem" style="font-size: 0.7rem;color: var(--leftSideText);margin-top: 0.2rem;">
                          <p class="d-flex align-items-center mb0">
                            Strategy:&nbsp;
                            <b style="margin-right:0rem;max-width: 13rem;overflow: hidden;text-overflow: ellipsis;white-space:nowrap;">
                              {{alreadyselected_strategy.name}}
                            </b>
                            <span class="material-icons" matTooltipClass='nav_tooltip' matTooltipPosition="above" matTooltip="Traded Info"
                                  [matTooltipShowDelay]="showDelay.value" [matTooltipHideDelay]="hideDelay.value" data-bs-target="#accTempAlertInfo" data-bs-toggle="modal" style="
                          font-size: 0.9rem !important;margin-right: 0.2rem;margin:0;color: var(--prim-button-color-text);
                          background: transparent;cursor: pointer;">info_outline</span>

                          </p>
                          <span class="const-icon" matTooltipClass='nav_tooltip' matTooltipPosition="above" matTooltip="Index Steps"
                                [matTooltipShowDelay]="showDelay.value" [matTooltipHideDelay]="hideDelay.value" (click)="arrangeIndexsteps()"><svg width="16" height="16" viewBox="0 0 24 24" fill="transparent" xmlns="http://www.w3.org/2000/svg"><path opacity="0.3" d="M21.25 18.525L13.05 21.825C12.35 22.125 11.65 22.125 10.95 21.825L2.75 18.525C1.75 18.125 1.75 16.725 2.75 16.325L4.04999 15.825L10.25 18.325C10.85 18.525 11.45 18.625 12.05 18.625C12.65 18.625 13.25 18.525 13.85 18.325L20.05 15.825L21.35 16.325C22.35 16.725 22.35 18.125 21.25 18.525ZM13.05 16.425L21.25 13.125C22.25 12.725 22.25 11.325 21.25 10.925L13.05 7.62502C12.35 7.32502 11.65 7.32502 10.95 7.62502L2.75 10.925C1.75 11.325 1.75 12.725 2.75 13.125L10.95 16.425C11.65 16.725 12.45 16.725 13.05 16.425Z" fill="currentColor"></path><path d="M11.05 11.025L2.84998 7.725C1.84998 7.325 1.84998 5.925 2.84998 5.525L11.05 2.225C11.75 1.925 12.45 1.925 13.15 2.225L21.35 5.525C22.35 5.925 22.35 7.325 21.35 7.725L13.05 11.025C12.45 11.325 11.65 11.325 11.05 11.025Z" fill="currentColor"></path></svg></span>
                          <span class="const-icon" matTooltipClass='nav_tooltip' matTooltipPosition="above" matTooltip="Index Factsheet"
                                [matTooltipShowDelay]="showDelay.value" [matTooltipHideDelay]="hideDelay.value" (click)="clickIndexFactsheet()">
                            <span class="material-icons" style="font-size: 1rem !important;padding: 0;margin: 0;">
                              description
                            </span>
                          </span>
                        </div>
                        <p class="rebType" *ngIf="savedStrategySettingsData.length>0">Rebalance:&nbsp;<b>{{sharedData.checkLiquidateType(savedStrategySettingsData[0].rebalancetype)}}</b></p>
                      </div>
                      <div class="pt0_5rem" *ngIf="(alreadyselected_strategy == null || alreadyselected_strategy == undefined)">
                        <a class="assign-strategy" (click)="openStrategy()" routerLink="/dashboard">Assign Strategy</a>
                      </div>
                    </div>
                  </div>
                  <div class="port_list d-flex" *ngIf="SelectedAccountType != 'P'">
                    <div class="b-content">
                      <div class="box-layout no_margin">
                        <h6>Market Value <span class="ACCtooltip"><span class="material-symbols-outlined material-icons market-info">info_outline</span><span class="ACCtooltiptext">Total value or capitalization of outstanding shares of stock. It is calculated by multiplying the current market price of one share by the total number of outstanding shares.</span></span></h6>
                        <p class="Count">{{defaultMarketCurrency}} {{getsummary_dup('availablefunds') | number: '1.2-2'}}</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Available Cash</h6>
                        <p class="Count">{{defaultMarketCurrency}} {{accOverview.cashbalance | number: '1.2-2' }}</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Daily Change</h6>
                        <p class="Count" *ngIf="getsummary_dup('daily') == '-'">{{getsummary_dup('daily')}}</p>
                        <p class="Count" *ngIf="getsummary_dup('daily') != '-'">{{defaultMarketCurrency}} {{getsummary_dup('daily') | number: '1.2-2'}}</p>
                      </div>
                    </div>
                  </div>
                  <div class="port_list d-flex" *ngIf="SelectedAccountType === 'P'">
                    <div class="b-content">
                      <div class="box-layout no_margin">
                        <h6>Market Value <span class="ACCtooltip"><span class="material-symbols-outlined material-icons market-info">info_outline</span><span class="ACCtooltiptext">Total value or capitalization of outstanding shares of stock. It is calculated by multiplying the current market price of one share by the total number of outstanding shares.</span></span></h6>
                        <p class="Count">{{defaultMarketCurrency}} {{pershMarketTotal | number: '1.2-2' }}</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Available Cash</h6>
                        <p class="Count">{{defaultMarketCurrency}}  {{pershMarketTotalCash | number: '1.2-2'}}</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Daily Change</h6>
                        <p class="Count" *ngIf="getsummary_dup('daily') == '-'">{{getsummary_dup('daily')}}</p>
                        <p class="Count" *ngIf="getsummary_dup('daily') != '-'">{{defaultMarketCurrency}} {{getsummary_dup('daily') | number: '1.2-2'}}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Account & market value Details End-->
              <div class="tab1 scrollbox p-rel">
                <div *ngIf="showSpinnerAcc_list" style="position: absolute;width: 100%;    height: calc(100vh - 18rem);background: var(--topNavbar);z-index: 999;left: 0;top: 0;">
                  <mat-spinner class="reviewloader-spinner" style="top: -10% !important;"></mat-spinner>
                </div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs" id="accNavTab" role="tablist" style="padding-left: 0;">
                  <li class="nav-item">
                    <a class="nav-link active" id="positionTab" data-bs-toggle="tab" href="#positions" data-myvalue="positions" (click)="showPositions = true ; activeTab = 'position';trackTabClick('Positions')">Positions</a>
                  </li>
                  <li class="nav-item d-flex position-relative" style="align-items:center;">
                    <a class="nav-link" id="unrealizedTab" data-bs-toggle="tab" href="#unrealizedGainLoss" data-myvalue="unrealizedGainLoss" (click)="showPositions = false ; activeTab = 'unrealizedGainLoss';trackTabClick('Unrealized Gain/Loss')" [class.disabled]="SelectedAccountType == 'P'? (pershPortFolioPositionUnrealized.length <=  0): true  ">
                      Unrealized Gain/Loss
                      <!-- <p *ngIf="unRealizedTabLoader">loader</p> -->

                    </a>
                    <span *ngIf="unRealizedTabLoader" style="position: absolute;
                    top: 50%;
                    right: 0.6rem;">
                      <mat-spinner class="accounts-spinner" [diameter]="30"></mat-spinner>
                    </span>
                  </li>
                  <li class="nav-item d-flex position-relative" style="align-items:center;">
                    <a class="nav-link" id="realizedTab" data-bs-toggle="tab" href="#realizedGainLoss" data-myvalue="realizedGainLoss" (click)="showPositions = false; activeTab = 'realizedGainLoss';trackTabClick('Realized Gain/Loss')" [class.disabled]="SelectedAccountType == 'P'? (PershingaccountrealizedDataSource.filteredData.length<=  0): true">
                      Realized Gain/Loss

                    </a>
                    <span *ngIf="realizedTabLoader" style="position: absolute;
                    top: 50%;
                    right: 0.6rem;">
                      <mat-spinner class="accounts-spinner" [diameter]="30"></mat-spinner>
                    </span>
                    <!-- <p *ngIf="realizedTabLoader">loader</p> -->
                  </li>
                </ul>
                <!-- Nav tabs -->
                <!-- positions tabs -->
                <div id="positions" class="tab-pane active funded_table" *ngIf="activeTab == 'position' ">

                  <div class="acc_dwn_btn locked_stat mt0_5rem">
                    <a *ngIf="tradeLock_Strategy && checkDataLen()" class="btn_gp d-flex align-items-center" style="opacity:0.5;">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                    <a *ngIf="!tradeLock_Strategy && checkDataLen()" (click)="downloadPortfolio()" class="btn_gp  d-flex align-items-center cursor-pointer">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                  </div>
                  <div class="content naa-ind-hgt printTable" style=" overflow: auto; padding-top: 0.5rem;">
                    <div class="scrollbox" style=" max-height: calc(100vh - 30rem); overflow: auto;">
                      <!-- Non Pershing Account -->
                      <ng-container *ngIf="accPortfolioPosition.length > 0 &&  SelectedAccountType != 'P'">
                        <portfolioTable [savedDontSell_List]="savedDontSell_List" [selectedType]="SelectedAccountType" [marketdata]="marketdata" [accountDataSourceHeader]="accountDataSourceHeader" [accountDataSourceData]="accountDataSource"></portfolioTable>
                      </ng-container>
                      <!-- Non Pershing Account End-->
                      <ng-container *ngIf="pershPortFolioPosition.length > 0 &&  SelectedAccountType == 'P'">
                        <portfolioTable [savedDontSell_List]="savedDontSell_List" [selectedType]="SelectedAccountType" [marketdata]="marketdata" [accountDataSourceHeader]="accountDataSourceHeader" [accountDataSourceData]="PershingaccountDataSource"></portfolioTable>
                      </ng-container>


                    </div>
                    <div class="scrollbox">
                      <!--  mat account table end  -->
                      <table class="table PershNoData_table" style="margin-bottom:0 !important;" *ngIf="pershPortFolioPosition.length <=0 && SelectedAccountType == 'P' ">
                        <thead style=" position: sticky; top: 0;z-index:99">
                          <tr>
                            <th>Instrument</th>
                            <th style="text-align: right; ">Position</th>
                            <th style="text-align: right; ">Last</th>
                            <th style="text-align: right; ">Daily Price Change</th>
                            <th style="text-align: right;">
                              Market Value ({{defaultMarketCurrency}})
                            </th>
                            <th style="text-align: right;">
                              Daily P&L ($)
                            </th>
                            <th style="text-align: right;">
                              Unrealized P&L ($)
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr style="height: calc(100vh - 27.3rem); vertical-align: middle; border-bottom: none;">
                            <td style="text-align: center;color: var(--leftSideText);font-size: 0.8rem;vertical-align: middle;border: 0;" colspan="9">
                              No Data
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <table class="table PershNoData_table" style="margin-bottom:0 !important;" *ngIf="accPortfolioPosition.length <=0 && SelectedAccountType !='P' ">
                        <thead style=" position: sticky; top: 0;z-index:99">
                          <tr>
                            <th>Instrument</th>
                            <th style="text-align: right; ">Position</th>
                            <th style="text-align: right; ">Last</th>
                            <th style="text-align: right; ">Daily Price Change</th>
                            <th style="text-align: right;">
                              Market Value ({{defaultMarketCurrency}})
                            </th>
                            <th style="text-align: right;">
                              Daily P&L ($)
                            </th>
                            <th style="text-align: right;">
                              Unrealized P&L ($)
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr style="height: calc(100vh - 27.3rem); vertical-align: middle; border-bottom: none;">
                            <td style="text-align: center;color: var(--leftSideText);font-size: 0.8rem;vertical-align: middle;border: 0;" colspan="9">
                              No Data
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <!-- Naa Total -->
                    <div class="PershTotalGrid" *ngIf="accPortfolioPosition.length > 0 && SelectedAccountType != 'P'">
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Total</div>
                        <div class="dailyPlrel" style="text-align: left; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>


                        <div class="dailyPlrel" style="text-align: right;">
                          {{(getsummary_total('availablefunds') - accOverview.cashbalance) | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right; padding-right: 0.7rem;" class="dailyPlrel">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="background: var(--leftSidebar);">Cash & MM</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>


                        <div class="dailyPlrel" style="text-align:right">
                          {{accOverview.cashbalance | number: '1.2-2' }}
                        </div>
                        <div class="dailyPlrel" style="text-align:right">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordion);">
                        <div class="dailyPlrel">Account Total</div>
                        <div class="dailyPlrel" style="text-align: left; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>

                        <div class="dailyPlrel" style="text-align: right; color: var(--leftSideText-B);">
                          {{getsummary_total('availablefunds') | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right; color: var(--leftSideText-B);" class="dailyPlrel">
                          &nbsp;
                        </div>
                      </div>
                    </div>
                    <!-- Naa Total End-->
                    <!-- Persh Total -->
                    <div class="PershTotalGrid" *ngIf="pershPortFolioPosition.length > 0 && SelectedAccountType == 'P'">
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Total</div>
                        <div class="dailyPlrel" style="text-align: left; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>

                        <div style="text-align: right;" class="dailyPlrel">
                          {{pershAvailableCash | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right;" class="dailyPlrel">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);    border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="background: var(--leftSidebar);">Cash & MM</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>


                        <div class="dailyPlrel" style="text-align:right">
                          {{pershMarketTotalCash | number: '1.2-2' }}
                        </div>
                        <div class="dailyPlrel" style="text-align:right">

                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordion);">
                        <div class="dailyPlrel">Account Total</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>



                        <div class="dailyPlrel" style="text-align:right;color: var(--leftSideText-B)" class="dailyPlrel">
                          {{pershMarketTotal | number: '1.2-2'}}
                        </div>
                        <div class="dailyPlrel" style="text-align: right; color: var(--leftSideText-B)">
                          &nbsp;
                        </div>
                      </div>
                    </div>
                    <!-- Persh Total End-->
                  </div>
                </div>
                <!-- unrealizedGainLoss Start -->
                <div id="unrealizedGainLoss" class="tab-pane funded_table" *ngIf="activeTab == 'unrealizedGainLoss' ">
                  <div *ngIf="showSpinnerAcc_list" style="position: absolute;width: 100%;height: 100%;background: var(--topNavbar);z-index: 999;left: 0;top: 0;">
                    <mat-spinner class="reviewloader-spinner" style="top: -10% !important;"></mat-spinner>
                  </div>
                  <!-- Download Persh portfolio -->
                  <div class="acc_dwn_btn locked_stat mt0_5rem">

                    <a *ngIf="tradeLock_Strategy && pershPortFolioPositionUnrealized.length > 0" class="btn_gp  d-flex align-items-center" style="opacity:0.5;">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                    <a *ngIf="!tradeLock_Strategy && pershPortFolioPositionUnrealized.length > 0" (click)="downloadPortfolioUnrealized()" class="btn_gp  d-flex align-items-center cursor-pointer">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                  </div>
                  <!-- Download Persh portfolio End-->
                  <div class="content naa-ind-hgt printTable" style=" overflow: auto; padding-top: 0.5rem;">
                    <div class="scrollbox" style=" max-height: calc(100vh - 30rem); overflow: auto;">
                      <ng-container *ngIf="accPortfolioPosition.length > 0 &&  SelectedAccountType != 'P'">
                        <unrealizedGainLossTable [savedDontSell_List]="savedDontSell_List" [selectedType]="SelectedAccountType" [marketdata]="marketdata" [accountDataSourceHeader]="accountDataSourceHeader_UnrealizedPL" [accountDataSourceData]="accountDataSource">

                        </unrealizedGainLossTable>
                      </ng-container>
                      <ng-container *ngIf="pershPortFolioPositionUnrealized.length > 0 &&  SelectedAccountType == 'P'">
                        <unrealizedGainLossTable [savedDontSell_List]="savedDontSell_List" [selectedType]="SelectedAccountType" [marketdata]="marketdata" [accountDataSourceHeader]="accountDataSourceHeader_UnrealizedPL" [accountDataSourceData]="PershingaccountUnrealizedDataSource">

                        </unrealizedGainLossTable>
                      </ng-container>

                    </div>
                    <div class="scrollbox">
                      <table class="table UnrealizedNoData_table" style="margin-bottom:0 !important;" *ngIf="pershPortFolioPosition.length <=0 && SelectedAccountType == 'P'">
                        <thead style=" position: sticky; top: 0;z-index:99">
                          <tr>
                            <th>Instrument</th>
                            <th style="text-align: right; ">Position</th>
                            <th style="text-align: right; ">Last</th>
                            <th style="text-align: right; ">
                              Market Value ({{defaultMarketCurrency}})
                            </th>
                            <th style="text-align: right;">
                              Unrealized P&L ($)
                            </th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr style="height: calc(100vh - 22rem); vertical-align: middle; border-bottom: none;">
                            <td style="text-align: center;color: var(--leftSideText);font-size: 0.8rem;vertical-align: middle;" colspan="9">
                              No Data
                            </td>
                          </tr>
                        </tbody>
                      </table>
                      <table class="table UnrealizedNoData_table" style="margin-bottom:0 !important;" *ngIf="accPortfolioPosition.length <=0 && SelectedAccountType !='P' ">
                        <thead style=" position: sticky; top: 0;z-index:99">
                          <tr>
                            <th>Instrument</th>
                            <th style="text-align: right; ">Position</th>
                            <th style="text-align: right; ">Last</th>
                            <th style="text-align: right; ">
                              Market Value ({{defaultMarketCurrency}})
                            </th>
                            <th style="text-align: right;">
                              Unrealized P&L ($)
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr style="height: calc(100vh - 21rem); vertical-align: middle; border-bottom: none;">
                            <td style="text-align: center;color: var(--leftSideText);font-size: 0.8rem;vertical-align: middle;" colspan="9">
                              No Data
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                    <div class="unrealizedGainLossTotalGrid" *ngIf="accPortfolioPosition.length > 0 && SelectedAccountType != 'P'">
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Total</div>
                        <div class="dailyPlrel" style="text-align: left; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>
                        <div class="dailyPlrel" style="text-align: right; ">
                          {{(getsummary_total('availablefunds') - accOverview.cashbalance) | number: '1.2-2'}}
                        </div>
                        <div class="dailyPlrel" style="text-align: right;  padding-right: 0.7rem;">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="background: var(--leftSidebar);">Cash & MM</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <div class="dailyPlrel" style="text-align:right">
                          {{accOverview.cashbalance | number: '1.2-2' }}
                        </div>
                        <div class="dailyPlrel" style="text-align:right">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Account Total</div>
                        <div class="dailyPlrel" style="text-align: left; "></div>
                        <div class="dailyPlrel" style="text-align: right; "></div>
                        <div class="dailyPlrel" style="text-align: right; color: var(--leftSideText-B); ">
                          {{getsummary_total('availablefunds') | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right; color: var(--leftSideText-B); " class="dailyPlrel">
                          &nbsp;
                        </div>
                      </div>
                    </div>
                    <div class="unrealizedGainLossTotalGrid" *ngIf="pershPortFolioPositionUnrealized.length > 0 && SelectedAccountType == 'P'">
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Total</div>
                        <div class="dailyPlrel" style="text-align: left;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <!-- <div class="dailyPlrel" style="text-align: right; "></div> -->

                        <div style="text-align: right;" class="dailyPlrel">
                          {{pershUnrealizedAvailableCash | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right;" class="dailyPlrel">
                          <span style="color: #50cd89" *ngIf="isPershingLossorGain(pershUnrealizedGainLossTotal) &&  pershUnrealizedGainLossTotal!= 0">
                            {{pershUnrealizedGainLossTotal | number: '1.2-2'}}
                          </span>
                          <span style="color: #f1416c" *ngIf="!isPershingLossorGain(pershUnrealizedGainLossTotal) &&  pershUnrealizedGainLossTotal != 0">
                            {{pershUnrealizedGainLossTotal| number: '1.2-2'}}
                          </span>
                          <span *ngIf="pershUnrealizedGainLossTotal == 0">
                            {{pershUnrealizedGainLossTotal | number: '1.2-2'}}
                          </span>
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="background: var(--leftSidebar);">Cash & MM</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <!-- <div class="dailyPlrel" style="text-align:right"></div> -->

                        <div class="dailyPlrel" style="text-align:right">
                          {{pershUnrealizedMarketTotalCash | number: '1.2-2' }}
                        </div>
                        <div class="dailyPlrel" style="text-align:right">
                          &nbsp;
                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordion);">
                        <div class="dailyPlrel">Account Total</div>
                        <div class="dailyPlrel" style="text-align:left"></div>
                        <div class="dailyPlrel" style="text-align:right"></div>
                        <!-- <div class="dailyPlrel" style="text-align:right"></div> -->
                        <div class="dailyPlrel" style="text-align:right;color: var(--leftSideText-B)">
                          {{pershUnrealizedMarketTotal | number: '1.2-2'}}
                        </div>
                        <div style="text-align: right; color: var(--leftSideText-B)" class="dailyPlrel">
                          &nbsp;
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- unrealizedGainLoss End -->
                <!-- realizedGainLoss Start -->
                <div id="realizedGainLoss" class="tab-pane" *ngIf="activeTab == 'realizedGainLoss'">
                  <div *ngIf="showSpinnerAcc_list" style="position: absolute;width: 100%;height: 100%;background: var(--topNavbar);z-index: 999;left: 0;top: 0;">
                    <mat-spinner class="reviewloader-spinner" style="top: -10% !important;"></mat-spinner>
                  </div>
                  <!-- Download Persh portfolio -->
                  <div class="acc_dwn_btn locked_stat mt0_5rem d-flex justify-content-end">
                    <a *ngIf="tradeLock_Strategy && pershPortFolioPositionUnrealized.length > 0" class="btn_gp d-flex align-items-center" style="opacity:0.5;">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                    <a *ngIf="!tradeLock_Strategy && pershPortFolioPositionUnrealized.length > 0" (click)="downloadPortfolioRealized()" class="btn_gp d-flex align-items-center cursor-pointer">
                      <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                    </a>
                  </div>
                  <!-- Download Persh portfolio End-->
                  <div class="content naa-ind-hgt printTable" style=" overflow: auto; padding-top: 0.5rem;">
                    <div class="scrollbox" style=" max-height: calc(100vh - 30rem); overflow: auto;">
                      <mat-table matSort [dataSource]="PershingaccountrealizedDataSource"
                                 class="common_mat_table accounts_table realizedGainLoss_table"
                                 *ngIf="pershPortFolioPositionUnrealized.length > 0 &&  SelectedAccountType == 'P'" matSortDisableClear
                                 id="PershingRealizedGLTable" matSortDirection="asc" (matSortChange)="onSortDataPershRealized($event)">

                        <ng-container matColumnDef="Security Identifier">
                          <mat-header-cell mat-sort-header *matHeaderCellDef style="justify-content: flex-start;" class="nw">
                            Security Identifier
                          </mat-header-cell>
                          <mat-cell *matCellDef="let element">
                            <span mat-menu-item class="accMenuFirst" style="position: absolute; " matTooltipClass='nav_tooltip'
                                  matTooltipPosition="above" [matTooltip]="element.SecurityDescription" [matTooltipShowDelay]="showDelay.value"
                                  [matTooltipHideDelay]="hideDelay.value">
                              {{element.SecurityIdentifier}}
                            </span>
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Opening Date">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Opening Date</mat-header-cell>
                          <mat-cell *matCellDef="let element" style="justify-content: center !important;">
                            <span *ngIf="element.Term == 'Multiple'" style="cursor: pointer; color: var(--prim-button-color-text) !important;"
                                  data-bs-toggle="modal" (click)="taxLotRealizedModalOpen(element.cusip,element.SecurityIdentifier)"
                                  data-bs-target="#myexistingTaxlotModalRealized" mat-menu-item> Multiple</span>
                            <span *ngIf="element.Term != 'Multiple'"> {{sharedData.dateFormatMMDDYYYY(element.OpeningDate)}}</span>
                          </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="Closing Date">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Closing Date </mat-header-cell>
                          <mat-cell *matCellDef="let element" style="justify-content: center !important;">
                            <span *ngIf="element.Term == 'Multiple'" style="cursor: pointer; color: var(--prim-button-color-text) !important;"
                                  data-bs-toggle="modal" (click)="taxLotRealizedModalOpen(element.cusip, element.SecurityIdentifier)"
                                  data-bs-target="#myexistingTaxlotModalRealized" mat-menu-item>Multiple</span>
                            <span *ngIf="element.Term != 'Multiple'">{{sharedData.dateFormatMMDDYYYY(element.ClosingDate)}}</span>
                          </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="Quantity">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Quantity </mat-header-cell>
                          <mat-cell *matCellDef="let element" style="position: relative;">
                            {{sharedData.numFormatWithComma(element.Quantity)}}



                          </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="Cost Basis">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Cost Basis </mat-header-cell>
                          <mat-cell *matCellDef="let element" style="position: relative;">

                            {{sharedData.numFormatWithComma(element.CostBasis)}}


                          </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="Proceeds">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Proceeds </mat-header-cell>
                          <mat-cell *matCellDef="let element" style="position: relative;">

                            {{sharedData.numFormatWithComma(element.Proceeds)}}


                          </mat-cell>
                        </ng-container>
                        <ng-container matColumnDef="Realized P&L ($)">
                          <mat-header-cell mat-sort-header *matHeaderCellDef class="nw"> Realized P&L ($) </mat-header-cell>
                          <mat-cell *matCellDef="let element" style="position: relative;">
                            <span mat-menu-item class="accMenuFirst" style="position: absolute; " matTooltipClass='nav_tooltip'
                                  matTooltipPosition="above" [matTooltip]="element.GainLossPercent+'%'" [matTooltipShowDelay]="showDelay.value"
                                  [matTooltipHideDelay]="hideDelay.value" style="color: #50cd89;"
                                  *ngIf="isPershingLossorGain(element.GainLoss) && element.GainLoss != null && element.GainLoss != 0">
                              {{ sharedData.numFormatWithComma(element.GainLoss) }}
                            </span>
                            <span mat-menu-item class="accMenuFirst" style="position: absolute; " matTooltipClass='nav_tooltip'
                                  matTooltipPosition="above" [matTooltip]="element.GainLossPercent+'%'" [matTooltipShowDelay]="showDelay.value"
                                  [matTooltipHideDelay]="hideDelay.value" style="color: #f1416c;"
                                  *ngIf="!isPershingLossorGain(element.GainLoss) && element.GainLoss != null && element.GainLoss != 0">
                              {{ sharedData.numFormatWithComma(element.GainLoss) }}
                            </span>
                            <span *ngIf="element.GainLoss == null">
                              -
                            </span>
                            <span mat-menu-item class="accMenuFirst" style="position: absolute; " matTooltipClass='nav_tooltip'
                                  matTooltipPosition="above" [matTooltip]="element.GainLossPercent + '%'" [matTooltipShowDelay]="showDelay.value"
                                  [matTooltipHideDelay]="hideDelay.value" *ngIf="element.GainLoss == 0">
                              {{ sharedData.numFormatWithComma(element.GainLoss) }}
                            </span>

                          </mat-cell>

                        </ng-container>
                        <ng-container matColumnDef="Term">
                          <mat-header-cell mat-sort-header *matHeaderCellDef> Term</mat-header-cell>
                          <mat-cell *matCellDef="let element">
                            <span *ngIf="element.Term == 'Multiple'" style="cursor: pointer; color: var(--prim-button-color-text) !important;"
                                  data-bs-toggle="modal" (click)="taxLotRealizedModalOpen(element.cusip,element.SecurityIdentifier)"
                                  data-bs-target="#myexistingTaxlotModalRealized" mat-menu-item> {{isShortLongTerm(element.cusip)}}</span>
                            <span *ngIf="element.Term != 'Multiple'"> {{element.Term}}</span>
                          </mat-cell>
                        </ng-container>

                        <mat-header-row *matHeaderRowDef="accountDataSourceHeader_RealizedPL;sticky: true"></mat-header-row>

                        <mat-row *matRowDef="let row; columns: accountDataSourceHeader_RealizedPL;"></mat-row>

                      </mat-table>
                    </div>
                    <div class="realizedGainLossTotalGrid">
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel">Total</div>
                        <div class="dailyPlrel" style="text-align: left;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>

                        <div style="text-align: right;" class="dailyPlrel">
                          <span style="color: #50cd89" *ngIf="isPershingLossorGain(pershRealizedGLTotal) &&  pershRealizedGLTotal!= 0">
                            {{pershRealizedGLTotal | number: '1.2-2'}}
                          </span>
                          <span style="color: #f1416c" *ngIf="!isPershingLossorGain(pershRealizedGLTotal) &&  pershRealizedGLTotal != 0">
                            {{pershRealizedGLTotal | number: '1.2-2'}}
                          </span>
                          <span *ngIf="pershRealizedGLTotal == 0">
                            {{pershRealizedGLTotal | number: '1.2-2'}}
                          </span>
                        </div>
                        <div style="text-align: right;" class="dailyPlrel">


                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordionChild);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="padding-right: 0;">Long Term P&L ($)</div>
                        <div class="dailyPlrel" style="text-align: left;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>

                        <div class="dailyPlrel" style="text-align:right">
                          <span style="color: #50cd89" *ngIf="isPershingLossorGain(pershRealizedLongTermGainLoss) &&  pershRealizedLongTermGainLoss!= 0">
                            {{pershRealizedLongTermGainLoss | number: '1.2-2' }}
                          </span>
                          <span style="color: #f1416c" *ngIf="!isPershingLossorGain(pershRealizedLongTermGainLoss) &&  pershRealizedLongTermGainLoss != 0">
                            {{pershRealizedLongTermGainLoss | number: '1.2-2' }}
                          </span>
                          <span *ngIf="pershRealizedLongTermGainLoss== 0">
                            {{pershRealizedLongTermGainLoss | number: '1.2-2' }}
                          </span>
                        </div>
                        <div class="dailyPlrel" style="text-align:right">


                        </div>
                      </div>
                      <div class="PershTotal" style="background: var(--accordion);border-bottom: 0.2px dashed var(--border);">
                        <div class="dailyPlrel" style="background: var(--leftSidebar);padding-right: 0;">Short Term P&L ($)</div>
                        <div class="dailyPlrel" style="text-align: left;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>
                        <div class="dailyPlrel" style="text-align: right;"></div>

                        <div class="dailyPlrel" style="text-align:right">
                          <span style="color: #50cd89" *ngIf="isPershingLossorGain(pershRealizedShortTermGainLoss) &&  pershRealizedShortTermGainLoss!= 0">
                            {{pershRealizedShortTermGainLoss | number: '1.2-2' }}
                          </span>
                          <span style="color: #f1416c" *ngIf="!isPershingLossorGain(pershRealizedShortTermGainLoss) &&  pershRealizedShortTermGainLoss != 0">
                            {{pershRealizedShortTermGainLoss | number: '1.2-2' }}
                          </span>
                          <span *ngIf="pershRealizedShortTermGainLoss == 0">
                            {{pershRealizedShortTermGainLoss | number: '1.2-2' }}
                          </span>
                        </div>
                        <div class="dailyPlrel" style="text-align:right">


                        </div>
                      </div>


                    </div>
                  </div>
                </div>
                <!-- realizedGainLoss End -->
              </div>
            </div>
            <!-- Portfolio -->
            <!-- History Tab -->
            <div id="accHistory" class="tab-pane">
              <!-- Account & market value Details -->
              <div class="d-flex">
                <div class="profile_details d-flex">
                  <div class="acc-list">
                    <div>
                      <div *ngIf="selectedAccList != ''">
                        <p class="acc-number">Account:&nbsp; <b>{{selectedAccList.accountVan}}</b></p>
                        <p class="acc-title">
                          Title:&nbsp; <b>{{selectedName}}</b>
                        </p>
                        <div class="d-flex align-items-center acc-last-updated">
                          Last Updated date:&nbsp; <b>{{lastRefrestDateInd | date: 'MM/dd/yyyy HH:mm' }}</b>&nbsp;
                          <div class="refresh" *ngIf="!tradeLock_Strategy">
                            <a class="d-flex align-items-center cursor-pointer" (click)="refreshInd_accounts()">
                              <span class="material-icons">refresh</span>Refresh
                            </a>
                          </div>
                        </div>
                        <!-- Dropdown -->
                        <ng-container *ngIf="tradesHistoryOption.length>0">
                          <div class="d-flex align-items-center">
                            <mat-form-field class="accDateDrop" style="margin-top: 0.5rem;">
                              <mat-select [(value)]="selTradeHisOption" (selectionChange)="tradeHisChanged($event.value)">
                                <mat-option *ngFor="let dt of tradesHistoryOption" [value]="dt">{{modifiedDateTime(dt.createdDate)+'Z' | date: 'MM/dd/yyyy HH:mm'}}</mat-option>
                              </mat-select>
                            </mat-form-field>
                            <span *ngIf="tradesHistoryDetails.length>0" class="d-flex align-items-center" matTooltipClass='nav_tooltip' matTooltipPosition="above" matTooltip="History Account Info"
                                  [matTooltipShowDelay]="showDelay.value" [matTooltipHideDelay]="hideDelay.value" data-bs-target="#accTempAlertInfoHis" data-bs-toggle="modal" style=" font-size: 0.6rem; margin-left: 0.5rem; padding-top: 0.25rem; color: var(--prim-button-color-text); background: transparent; cursor: pointer;"><span class="material-icons" style="font-size: 0.7rem;margin-right: 0.2rem;">info_outline</span> Info</span>
                          </div>
                        </ng-container>
                        <!-- Dropdown -->
                      </div>
                    </div>

                  </div>
                  <div class="port_list d-flex">
                    <div class="b-content">
                      <div class="box-layout no_margin">
                        <h6>Market Value </h6>
                        <p class="Count" *ngIf="tradesHistoryDetails.length>0">{{defaultMarketCurrency}} {{tradesHistoryDetails[0].marketValue | number: '1.2-2'}}</p>
                        <p class="Count" *ngIf="tradesHistoryDetails.length<=0">-</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Available Cash</h6>
                        <p class="Count" *ngIf="tradesHistoryDetails.length>0 && tradesHistoryDetails[0].availableCash != null">{{defaultMarketCurrency}} {{tradesHistoryDetails[0].availableCash | number: '1.2-2' }}</p>
                        <p class="Count" *ngIf="tradesHistoryDetails.length<=0 || tradesHistoryDetails[0].availableCash == null">-</p>
                      </div>
                      <div class="box-layout no_margin">
                        <h6>Daily Change</h6>
                        <p class="Count">-</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Account & market value Details End-->
              <div class="tab1 scrollbox p-rel">
                <div class="acc_dwn_btn locked_stat mt0_5rem d-flex justify-content-end" *ngIf="tradesHistoryData.length>0">

                  <a (click)="downloadHis()" class="btn_gp  d-flex align-items-center cursor-pointer">
                    <span class="material-icons" style="font-size: 1rem;margin-right: 0.25rem;">file_download</span> Download
                  </a>
                </div>
                <div class="content naa-ind-hgt printTable" style=" overflow: auto; padding-top: 0.5rem;">
                  <div class="scrollbox" style=" max-height: calc(100vh - 22rem); overflow: auto;">
                    <ng-container *ngIf="tradesAllocationHistoryData.length > 0">
                      <HistoryTable [accountDataSourceHeader]="accountHistoryDataSourceHeader" [accountDataSourceData]="accountDataSource_History" [accountAllocationDataSourceData]="accountDataSource_HistoryAllocation"></HistoryTable>
                    </ng-container>



                    <table class="table PershNoData_table" style="margin-bottom:0 !important;" *ngIf="tradesAllocationHistoryData.length <= 0">
                      <thead style=" position: sticky; top: 0;z-index:99">
                        <!--<tr>
                          <th style="width: 40%;">Company Name</th>
                          <th>Ticker</th>
                          <th style="text-align: right; width: 16%;">Price ($)</th>
                          <th style="text-align: right; ">Quantity</th>
                          <th style="text-align: right; ">Value</th>
                        </tr>-->
                        <tr>
                          <th style="width:10%">Ticker</th>
                          <th style="text-align: right; width: 15%; padding-right: 2rem">Price ($)</th>
                          <th style="text-align: left; width: 10%;">Action</th>
                          <th style="text-align: right; width: 15%;padding-right:2rem ">Quantity</th>
                          <th style="text-align: left; width: 50%; ">Traded Status</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr style="height: 15rem; vertical-align: middle; border-bottom: none; ">
                          <td style="text-align: center;color: var(--leftSideText);font-size: 0.8rem;vertical-align: middle;border: 0;" colspan="9">
                            No Data
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <!-- History Tab -->
          </div>
        </ng-container>

      </div>
      <!-- Funded Tab -->
      <!-- NonFunded Tab -->
      <div class="nonFundedTab p-rel" *ngIf="!show_tab_content">
        <div id="showMatLoaderAccounts_nonFunded">
          <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
        </div>

        @if(selected_NF_Details == undefined || selected_NF_Details == ''){
        <div class="d-flex align-items-center justify-content-center nodata_funded">{{sharedData.checkMyAppMessage(5, 28)}}</div>
        }
        @if(selected_NF_Details != undefined && selected_NF_Details != ''){
        <div class="accHeader">
          <p>ACCOUNT: <span>{{selected_NF_Details.accountVan}}</span></p>
        </div>
        }
        @if(selected_NF_Details != undefined && selected_NF_Details != ''){
        <div class="accContent">
          <p>Account Status</p>
          <div class="accountRadio LiquidateRadio">
            <div class="accountRadio LiquidateRadio2">
              <div class="custom_radio" style="flex-direction: column; align-items: flex-start; ">
                <div class="d-flex align-items-center" style="margin-bottom:1rem">
                  <div>
                    <input type="radio" id="featured-f" name="groupFund" [checked]="nonFundClicked=='Funded'" (change)="nonFundChange($event,'F')"><label for="featured-f">Funded</label>
                  </div>
                  <div style="margin-left:1rem">
                    <input type="radio" id="featured-n" name="groupFund" [checked]="nonFundClicked=='Non Funded'" (change)="nonFundChange($event,'N')"><label for="featured-n">Non Funded</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center">
            <span id="account_Exclusions" class="accountEFTCheck">
              <mat-checkbox [(ngModel)]="nonFundCheckbox" [disabled]="nonFundClicked=='Non Funded' || (nonFundClicked=='Funded' && pershPortFolio_NF_Table)" (change)="nonFundMatChange($event)"
                            class="example-margin ml0_5rem w-100">Enable for Trading</mat-checkbox>
            </span>
            <span *ngIf="(nonFundClicked=='Funded' && pershPortFolio_NF_Table)" class="d-flex align-items-center ET_warning_msg"><span class="mat-mdc-tooltip-trigger material-icons ng-star-inserted" style="font-size: 1.2rem;color: var(--warningColor);background: transparent;cursor: default;margin-right: 0.5rem;">warning</span>The following securities are currently not supported by the system. Please liquidate these positions before proceeding.</span>
          </div>
          <div *ngIf="pershPortFolio_NF_Table" class="scrollbox" style="height: calc(100vh - 17rem); overflow: auto;margin-top:1.5rem;">
            <table #tree mat-table [dataSource]="dataSourceTree" *ngIf="pershPortFolioPosition_NF.length > 0" class="mat-elevation-z8 tree-table common_mat_table accounts_table">
              <ng-container matColumnDef="assetSubSubTypeDescription">
                <th mat-header-cell *matHeaderCellDef>
                  <span> Asset Sub Type Description </span>
                </th>
                <td mat-cell *matCellDef="let data">
                  <button mat-icon-button
                          [style.visibility]="!data.expandable ? 'hidden' : ''"
                          [style.marginLeft.px]="data.level * 32"
                          (click)="treeControl.toggle(data)">
                    <mat-icon class="mat-icon-rtl-mirror">
                      {{treeControl.isExpanded(data) ? 'expand_more' : 'chevron_right'}}
                    </mat-icon>
                  </button>

                  {{data.assetSubSubTypeDescription}}
                </td>
              </ng-container>
              <ng-container matColumnDef="Ticker">
                <th mat-header-cell *matHeaderCellDef>Ticker</th>
                <td mat-cell *matCellDef="let data">{{data.Ticker}}</td>
              </ng-container>
              <ng-container matColumnDef="Position">
                <th mat-header-cell *matHeaderCellDef style="text-align:right">Position</th>
                <td mat-cell *matCellDef="let data" style="text-align:right">{{data.Position | number}}</td>
              </ng-container>
              <ng-container matColumnDef="Market_Value">
                <th mat-header-cell *matHeaderCellDef style="text-align:right">Market Value ($)</th>
                <td mat-cell *matCellDef="let data" style="text-align:right">{{data.Market_Value | number: '1.2-2'}}</td>
              </ng-container>
              <ng-container matColumnDef="assetTypeDescription">
                <th mat-header-cell *matHeaderCellDef >Asset Type Description</th>
                <td mat-cell *matCellDef="let data" style="justify-content: start;">{{data.assetTypeDescription}}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="accountDataSourceHeader_NF"></tr>
              <tr mat-row *matRowDef="let row; columns: accountDataSourceHeader_NF;"></tr>
            </table>
          </div>
        </div>
        }

      </div>
      <!-- NonFunded Tab -->
    </div>
  </ng-container>

</div>
<!-- Traded Info -->
<div class="modal fade warningautoModel" id="accTempAlertInfo" tabindex="-1" role="dialog" aria-labelledby="accTempAlert" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="close-l" data-bs-dismiss="modal" aria-label="Close" style="z-index:9;"><span class="material-icons">close</span></div>
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--warningColor);opacity: .75;">
                error_outline
              </span>
            </p>
            <h3 style="border-bottom: 1px dotted var(--border); padding-bottom: 1.2rem;">Account Traded Info</h3>
            <table class="table" style=" padding: 0 5rem;width: 75%; margin: auto; margin-bottom: 1rem;" *ngIf="alreadyselected_strategy!=undefined">
              <tbody>
                <tr>
                  <td>User name :</td>
                  <td style="text-align: left;">{{alreadyselected_strategy.tradedUserName}}</td>
                </tr>
                <tr>
                  <td>Strategy :</td>
                  <td style="text-align: left;max-width: 10rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{alreadyselected_strategy.name}}</td>
                </tr>
                <tr>
                  <td>Traded date :</td>
                  <td style="text-align: left;">{{alreadyselected_strategy.tradedDate+'Z' | date: 'MM/dd/yyyy HH:mm'}}</td>
                </tr>
                <tr>
                  <td>Account :</td>
                  <td style="text-align: left;">{{selectedAccList.accountVan}}</td>
                </tr>
              </tbody>
            </table>
            <div class="foot-l">
              <button type="button" class="dialog_btn_P" data-bs-dismiss="modal">Ok</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="warningautoModel modal fade" id="myAccount_TitleEdit" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="background: #000000bf !important">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:28%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="close-l" data-bs-toggle="modal"><span class="material-icons">close</span></div>
          <!--<div class="content-top"><p>Access Denied</p></div>-->
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: left; ">
          
            <form [formGroup]="accountTitleForm" (ngSubmit)="onSubmit()" style="width: 100%;">
              <div class="titleDiv" style="position: relative;">
                <p>Title</p>
                <input appAccountTitle maxlength="40"  (keydown)="onkeysDown($event);restricteSpecial($event)" formControlName="acctTitle" #myInput type="text" name="name" [(ngModel)]="selectedNameEdit" id="accTitleEdit" autofocus />
                <span style="color: #dc3545;
              position: absolute;
              left: 0;
              font-size: 0.8rem;
              bottom: 0.5rem;
              margin-left: 1.5rem;" *ngIf="hasError3('acctTitle', 'pattern')">Special characters are not allowed except , . &</span>
              </div>

              <div class="foot-l" style="text-align: center;margin-bottom:1rem">
                <button type="submit" class="dialog_btn_P mr_p_5" [disabled]="!submitted || myInput.value.length<=0" data-bs-dismiss="modal" style="margin:0" *ngIf="selectedNameEdit != selectedName">Update</button>
                <button type="submit" class="dialog_btn_P mr_p_5" disabled *ngIf="selectedNameEdit == selectedName">
                  Update
                </button>
                <a class="dialog_btn_S cp" data-bs-dismiss="modal">Cancel</a>
              </div>

            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Tax optimization -->
<div class="modal fade warningautoModel" id="AccEditModal" tabindex="-1" role="dialog"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content" style="overflow: hidden;">
      <!-- <div *ngIf="showMatLoader" style="z-index:99">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div> -->
      <div  id="TaxLoader" style="z-index:99;display: none;">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div>
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; padding: 0;">
            <div class="w-head">
              <p>Tax Optimization</p>
              <div class="close-l" data-bs-dismiss="modal" aria-label="Close"><span class="material-icons">close</span></div>
            </div>
            <div class="accEditValues">
              <div class="accEditContent d-flex justify-content-between mb1rem refresh">
                <p class="d-flex align-items-center default_mat_dropdown">
                  Market Value
                </p>
                <span class="cashFlow" style="display: block;" *ngIf="showAccOverview">
                  {{defaultMarketCurrency}} {{getsummary_dup('availablefunds') | number: '1.2-2'}}
                </span>
                <a (click)="accRef()" style="cursor:pointer;">
                  <mat-icon class="icon_r">refresh</mat-icon>
                </a>
              </div>
              <div class="accEditContent d-flex mb1rem flex-column">
                <div  class="d-flex justify-content-between w-100">
                  <p class="d-flex align-items-center default_mat_dropdown">
                    Tax
                    <mat-form-field appearance="outline" style="width: 5rem;margin: 0 0.5rem;">
                      <mat-label>Gain</mat-label>
                      <mat-select [(value)]="gains" panelClass="selectList gainMat" (selectionChange)="gainChange($event)">
                        <ng-container>
                          <mat-option *ngFor="let ga of gainList" [value]="ga">
                            <p>{{ga}} </p>
                          </mat-option>
                        </ng-container>
                      </mat-select>
                    </mat-form-field>
                    Target
                    <span *ngIf="gains =='Loss'" class="buiToolTip"><mat-icon class="market-info">info_outline</mat-icon><span class="ACCtooltiptext">(Must not surpass 20% market value)</span></span>
                  </p>
                  <input [class.errorBorder]="taxTargetValid" type="text" name="name" [(ngModel)]="acc_taxTarget" (keyup)="link_target_buffer('T')" (keydown)="validateNumber($event)" numWithComma />
                </div>
                <div *ngIf="taxTargetValid" style="width:100%;text-align:right;">
                  <span style="color: var(--danger) !important; font-size: 0.65rem; font-family: var(--ff-medium);" *ngIf="gains =='Loss'">Exceeds 20% of Market Value</span>
                  <span style="color: var(--danger) !important;font-size: 0.65rem;" *ngIf="gains !='Loss'">Exceeds Market Value</span>
                </div>
              </div>
              <div class="accEditContent" style="margin-bottom: 1rem;display: flex;justify-content: space-between;">
                <p class="d-flex align-items-center default_mat_dropdown">
                  Buffer {{gains}} Target
                </p>
                <span class="cashFlow" style="display: flex;flex-wrap: wrap;justify-content: flex-end;">
                  <mat-form-field FloatLabelType="never" appearance="outline" class="" style="width: 5rem;">
                    <mat-select panelClass="selectList CTOption" [(ngModel)]="acc_bufferTarget">
                      <ng-container>
                        <mat-option *ngFor="let ct of bufferTargetData" [value]="ct">
                          <p>{{ct}}%</p>
                        </mat-option>
                      </ng-container>
                    </mat-select>
                  </mat-form-field>
                </span>
              </div>
            </div>
            <div class="foot-l accUpdate">
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" (click)="updateAccTaxinfo()" *ngIf="!accsettinsButtonDisable()">
                Update
              </button>
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" *ngIf="accsettinsButtonDisable()" disabled>
                Update
              </button>
              <button type="button" class="dialog_btn_S cp" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Tax optimization end -->
<!-- Tax Rate -->
<div class="modal fade warningautoModel" id="AccRateEditModal" tabindex="-1" role="dialog"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:25%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; padding: 0;">
            <div class="w-head">
              <p>Tax Rate</p>
              <div class="close-l" data-bs-dismiss="modal" aria-label="Close"><span class="material-icons">close</span></div>
            </div>
            <div class="accEditValues">
              <div class="accEditContent flex-column">
                <div class="p-rel d-flex justify-content-between w-100">
                  <p class="d-flex align-items-center defaulttheme_Mat">Long term tax rate</p>
                  <input style="padding-right: 1.7rem;" [class.errorBorder]="longTaxRateValid" type="number" min="0" max="100" step="0.01" [(ngModel)]="acc_taxTargetLong" (keyup)="checkTaxRate()" (keypress)="($event.charCode == 8) ? null : $event.charCode >= 48 && $event.charCode <= 57 || $event.charCode== 46 ||$event.charCode == 0" />
                  <span style="font-size: 0.8rem; right: 0.8rem; top: 0.3rem;position: absolute;width:auto">%</span>
                </div>
                <div *ngIf="longTaxRateValid" style="width:100%;text-align:right;">
                  <span style="color: var(--danger) !important;font-size: 0.65rem;">Value should range from 0.00% to 100.00%</span>
                </div>
              </div>
              <div class="accEditContent flex-column">
                <div class="p-rel d-flex justify-content-between w-100" >
                  <p class="d-flex align-items-center defaulttheme_Mat">Short term tax rate</p>
                  <input style="padding-right: 1.7rem;" [class.errorBorder]="shortTaxRateValid" type="number" min="0" max="100" step="0.01" [(ngModel)]="acc_taxTargetShort" (keyup)="checkTaxRate()" (keypress)="($event.charCode == 8) ? null : $event.charCode >= 48 && $event.charCode <= 57 || $event.charCode== 46 ||$event.charCode == 0" />
                  <span style="font-size: 0.8rem; right: 0.8rem; top: 0.3rem; color: var(--leftSideText); position: absolute; width: auto">%</span>
                </div>
                <div *ngIf="shortTaxRateValid"  class="text-right w-100">
                  <span style="color: var(--danger) !important;font-size: 0.65rem;">Value should range from 0.00% to 100.00%</span>
                </div>
              </div>
            </div>
            <div class="foot-l accUpdate">
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" (click)="updateAccTaxTargetinfo()" *ngIf="!acctaxTargetButtonDisable()">
                Update
              </button>
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" *ngIf="acctaxTargetButtonDisable()" disabled>
                Update
              </button>
              <button type="button" class="dialog_btn_S cp" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Tax Rate End -->
<!-- Cash Target -->
<div class="modal fade warningautoModel" id="AccCashEditModal" tabindex="-1" role="dialog"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:25%">
    <div class="modal-content" style="overflow: hidden;">
      <div  id="CashtargetLoader" style="z-index:99;display: none;">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div>
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; padding: 0;">
            <div class="w-head">
              <p>Cash Target</p>
              <div class="close-l" data-bs-dismiss="modal" aria-label="Close"><span class="material-icons">close</span></div>
            </div>
            <div class="accEditValues">
              <div class="accEditContent mb1rem justify-content-between">
                <p class="d-flex align-items-center defaulttheme_Mat">
                  Market Value
                </p>
                <span class="cashFlow d-flex align-items-center justify-content-end refresh" style="text-align:right" *ngIf="showAccOverview">
                  {{defaultMarketCurrency}} {{getsummary_dup('availablefunds') | number: '1.2-2'}}
                  <i (click)="accRef()" style="cursor:pointer;">
                    <mat-icon class="icon_r">refresh</mat-icon>
                  </i>
                </span>

              </div>
              <div class="accEditContent mb1rem justify-content-between">                
                  <p class="d-flex align-items-center defaulttheme_Mat">
                    Cash Target
                  </p>
                  <span class="cashFlow d-flex justify-content-end position-relative">
                    <input [(ngModel)]="acc_cashTarget" onkeydown="if(event.key==='.'){event.preventDefault();}" step="1" type="number"
                           min="cashTargetMiMx.min" max="cashTargetMiMx.max" class="form-control pr1_5rem" required
                           [class.errorBorder]="(cashTargetMiMx.min > acc_cashTarget || acc_cashTarget >cashTargetMiMx.max)"
                           style="width: 5rem; box-shadow: none;">
                    <span style="font-size: 0.8rem; right: 0.5rem; color: var(--leftSideText); position: absolute; width: auto">%</span>
                  </span>
              </div>
              <div *ngIf="(cashTargetMiMx.min > acc_cashTarget || acc_cashTarget >cashTargetMiMx.max)" class="text-right w-100">
                <span style="color: var(--danger) !important;font-size: 0.65rem;">Value should range from {{cashTargetMiMx.min}}% to {{cashTargetMiMx.max}}%</span>
              </div>
            </div>
            <div class="foot-l accUpdate">
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" (click)="updateAccCashTargetinfo()" *ngIf="!accsettinsCashButtonDisable() && (cashTargetMiMx.min <= acc_cashTarget && acc_cashTarget <= cashTargetMiMx.max)">
                Update
              </button>
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" *ngIf="accsettinsCashButtonDisable() || cashTargetMiMx.min > acc_cashTarget || acc_cashTarget > cashTargetMiMx.max" disabled>
                Update
              </button>
              <button type="button" class="dialog_btn_S cp" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Cash Target End -->
<!-- Cash Raise -->
<div class="modal fade warningautoModel" id="AccEditModal_cashRise" tabindex="-1" role="dialog" data-bs-backdrop="static" data-bs-keyboard="false"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:25%">
    <div class="modal-content" style="overflow: hidden;">
      <!-- <div *ngIf="showMatLoader" style="z-index:99">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div> -->
      <div  id="CashraiseLoader" style="z-index:99;display: none;">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div>
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; padding: 0;">

            <div class="w-head">
              <p>Cash Raise</p>
              <div class="close-l" data-bs-dismiss="modal" aria-label="Close" (click)="closeCashRaise()"><span class="material-icons">close</span></div>
            </div>
            <div class="accEditValues p1_5rem" *ngIf="OpenCR_NextPage == 'showCashRaise'">
              <div class="accEditContent">
                <p class="d-flex align-items-center defaulttheme_Mat mb0">
                  <b>Market Value</b>
                </p>
                <p class="d-flex align-items-center justify-content-end mb0 refresh" style="text-align: right !important;" *ngIf="showAccOverview">
                  {{defaultMarketCurrency}} {{getsummary_dup('availablefunds') | number: '1.2-2'}}
                  <i (click)="accRef()" style="cursor:pointer;">
                    <mat-icon class="icon_r">refresh</mat-icon>
                  </i>
                </p>

              </div>
              <div class="accEditContent">
                <p class="d-flex align-items-center defaulttheme_Mat mb0">
                  <b>Available Cash</b>
                </p>
                <p class="mb0" style="text-align: right !important;" *ngIf="showAccOverview">
                  {{defaultMarketCurrency}} {{ accOverview.cashbalance | number: '1.2-2' }}
                </p>
              </div>
              <div class="accEditContent m0 pb2rem" style="position: relative;">
                <p><b>Additional Cash</b></p>
                <input [class.errorBorder]="addCash_Validation" type="text" name="name" (keydown)="validateNumber($event)" [(ngModel)]="acc_cashRise" (keyup)="addCashValidation(getsummary_dup('availablefunds'), accOverview.cashbalance)" [value]="numberValue" (input)="onInputChange($event)" />
                <p *ngIf="addCash_Validation" class="addCashValid">Sum of additional cash and available cash must not exceed the market value</p>
              </div>
              <div class="accEditContent mb0">
                <p><b>Cash Raise Type</b></p>
                <div class="accountRadio">
                  <div class="custom_radio" style="text-align: right;">
                    <input type="radio" id="featured-5" name="featured" (change)="accTypeChange($event,'I','cash')" [checked]="acc_cashRiseType=='I'" checked>
                    <label for="featured-5" style="width:auto;"> <span style="    margin-top: 0.1rem;">Immediate</span> </label>
                  </div>
                </div>
              </div>
            </div>
            <div class="accEditValues p1_5rem" *ngIf="OpenCR_NextPage == 'showDontSell'">
              <div class="accEditContent">
                <p class="w-100 CR_warning">{{sharedData.checkMyAppMessage(5, 29)}}</p>
              </div>
            </div>
            <div class="accEditValues p1_5rem" *ngIf="OpenCR_NextPage == 'showLiquidate'">
              <div class="accEditContent">
                <p class="w-100 CR_warning">{{sharedData.checkMyAppMessage(5, 30)}}</p>
              </div>
            </div>
            <div class="foot-l accUpdate" *ngIf="OpenCR_NextPage == 'showCashRaise'">
              <button type="button" class="dialog_btn_P mr_p_5" *ngIf="!addCash_Validation" (click)="validateAccCashRaiseinfo()">Update</button>
              <button type="button" class="dialog_btn_P disabled mr_p_5" disabled *ngIf="addCash_Validation">Update</button>
              <button type="button" class="dialog_btn_S" data-bs-dismiss="modal" (click)="closeCashRaise()">Cancel</button>
            </div>
            <div class="foot-l accUpdate mt0" *ngIf="OpenCR_NextPage == 'showDontSell'">
              <button type="button" class="dialog_btn_P mr_p_5" (click)="ProceedWithCashRise('dont_Sell')">Proceed</button>
              <button type="button" class="dialog_btn_S" (click)="OpenCR_NextPage = 'showCashRaise'">Back</button>
            </div>
            <div class="foot-l accUpdate" *ngIf="OpenCR_NextPage == 'showLiquidate'">
              <button type="button" class="dialog_btn_P mr_p_5" (click)="ProceedWithCashRise('liquidate')">Proceed</button>
              <button type="button" class="dialog_btn_S" (click)="OpenCR_NextPage = 'showCashRaise'">Back</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Cash Raise end -->
<!-- Liquidate -->
<div class="modal fade warningautoModel" id="AccEditModal_liquidate" tabindex="-1" role="dialog"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content" style="overflow: hidden;">
      <!-- <div *ngIf="showMatLoader" style="z-index:99">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div> -->
      <div  id="LiquidateLoader" style="z-index:99;display: none;">
        <mat-progress-bar mode="indeterminate" style="position: absolute;top: 0px;left: 0px;display: block;height: 2px;width: 100%;overflow: hidden;"></mat-progress-bar>
      </div>
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; padding: 0;">
            <div class="w-head">
              <p>Liquidate</p>
              <div class="close-l" data-bs-dismiss="modal" aria-label="Close"><span class="material-icons">close</span></div>
            </div>
            <div class="accEditValues">
              <div class="accEditContent" style="margin-bottom: 1rem;">
                <p class="d-flex align-items-center defaulttheme_Mat mb0" style=" width: 50%;">
                  <b>Market Value </b>
                </p>
                <p class="d-flex align-items-center justify-content-start mb0 refresh" style="width: 50%; text-align: right" *ngIf="showAccOverview">
                  {{defaultMarketCurrency}} {{getsummary_dup('availablefunds') | number: '1.2-2'}}
                  <i (click)="accRef()" style="cursor:pointer;">
                    <mat-icon class="icon_r">refresh</mat-icon>
                  </i>
                </p>

              </div>
              <div class="accEditContent" style="margin-bottom: 1rem;padding-bottom: 1rem;">
                <p class="d-flex align-items-center defaulttheme_Mat">
                  Liquidate
                </p>
                <div class="accountRadio LiquidateRadio" style="width:55%;">
                  <div class="custom_radio" style="flex-direction: column; align-items: flex-start; ">
                    <div>
                      <input type="radio" id="featured-3" name="Immediaate" [checked]="acc_liquidateType=='I'" (change)="accTypeChange($event,'I','liq')"><label for="featured-3">Immediate</label>
                    </div>
 
                  </div>
                
                </div>
              </div>

            </div>
            <div class="foot-l accUpdate">
              <button type="button" class="dialog_btn_P mr_p_5" (click)="updateAccLiquidateinfo()">
                Update
              </button>
              <button type="button" class="dialog_btn_S" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Liquidate End-->
<!-- Enable Trading -->
<div class="warningautoModel modal fade" id="myAccount_EnableTrade" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="background: #000000bf !important">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--warningColor);opacity: .75;">
                error_outline
              </span>
            </p>
            <p style="font-size: 0.9rem; text-align: center;">Enable for Trading?</p>
            <p style="font-size: 0.7rem; text-align: center;">{{sharedData.checkMyAppMessage(5,32)}}</p>

            <div class="foot-l" style="text-align: center;margin-bottom:1rem">
              <button type="button" class="dialog_btn_P mr_p_5" data-bs-dismiss="modal" (click)="checkCheckbox()">Yes</button>
              <button type="button" class="dialog_btn_S" data-bs-dismiss="modal" (click)="uncheckCheckbox()">No</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Enable Trading end -->
<!---- Pause locked popup ---->
<div class="modal fade warningautoModel" id="accTempLockedInfo" tabindex="-1" role="dialog" aria-labelledby="accTempAlert" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="close-l" data-bs-dismiss="modal" aria-label="Close" style="z-index:9;"><span class="material-icons">close</span></div>
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--warningColor);opacity: .75;">
                error_outline
              </span>
            </p>
            <h3 style="border-bottom: 1px dotted var(--border); padding-bottom: 1.2rem;">Account Locked Info</h3>
            <table class="table" style=" padding: 0 5rem;width: 75%; margin: auto; margin-bottom: 1rem;" *ngIf="C_AccountDetails!=undefined">
              <tbody>
                <tr>
                  <td>User name :</td>
                  <td style="text-align: left;">{{C_AccountDetails.lockedUserName}}</td>
                </tr>
                <tr>
                  <td>Strategy :</td>
                  <td style="text-align: left;">{{C_AccountDetails.lockSLShortName}}</td>
                </tr>
                <tr>
                  <td>Locked date :</td>
                  <td style="text-align: left;">{{C_AccountDetails.lockedDate+'Z' | date: 'MM/dd/yyyy HH:mm'}}</td>
                </tr>
                <tr>
                  <td>Account :</td>
                  <td style="text-align: left;">{{C_AccountDetails.accountId}}</td>
                </tr>
              </tbody>
            </table>
            <div class="foot-l">
              <button type="button" class="dialog_btn_P" data-bs-dismiss="modal">Ok</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!---- account locked popup ---->
<!---- History account popup ---->
<div class="modal fade warningautoModel" id="accTempAlertInfoHis" tabindex="-1" role="dialog" aria-labelledby="accTempAlert" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="close-l" data-bs-dismiss="modal" aria-label="Close" style="z-index:9;"><span class="material-icons">close</span></div>
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--warningColor);opacity: .75;">
                error_outline
              </span>
            </p>
            <h3 style="border-bottom: 1px dotted var(--border); padding-bottom: 1.2rem;">Account Traded Info</h3>
            <table class="table" style=" padding: 0 5rem;width: 75%; margin: auto; margin-bottom: 1rem;" *ngIf="tradesHistoryDetails.length > 0">
              <tbody>
                <tr>
                  <td>User name :</td>
                  <td style="text-align: left;">{{tradesHistoryDetails[0].tradedUserName}}</td>
                </tr>
                <tr>
                  <td>Strategy :</td>
                  <td style="text-align: left;max-width: 10rem;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;">{{tradesHistoryDetails[0].name | nullDashPipe :'-'}} {{tradesHistoryDetails[0].shortname}}</td>
                </tr>
                <tr>
                  <td>Traded date :</td>
                  <td style="text-align: left;">{{tradesHistoryDetails[0].tradedDate+'Z' | date: 'MM/dd/yyyy HH:mm'}}</td>
                </tr>
                <tr>
                  <td>Index name :</td>
                  <td style="text-align: left; max-width: 8rem; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">{{tradesHistoryDetails[0].Indexname | nullDashPipe :'-'}}</td>
                </tr>
                <tr *ngIf="tradesHistoryDetails[0].Ticker != undefined || tradesHistoryDetails[0].Ticker != null">
                  <td>Ticker :</td>
                  <td><span>{{tradesHistoryDetails[0].Ticker | nullDashPipe :'-'}}</span></td>
                </tr>
                <tr>
                  <td>Account :</td>
                  <td style="text-align: left;">{{tradesHistoryDetails[0].accountNo}}</td>
                </tr>
              </tbody>
            </table>
            <div class="foot-l">
              <button type="button" class="mod-foot-btn-activeP" data-bs-dismiss="modal">Ok</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!---- History account popup ---->
<!-- Pause Trade -->
<div class="warningautoModel modal fade" id="myAccount_pauseTrade" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false" style="background: #00000080 !important">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:35%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--warningColor);opacity: .75;">
                error_outline
              </span>
            </p>
            <p style="font-size: 0.9rem; text-align: center;" *ngIf="!pauseTotalTrade">Are you sure to pause trading for this account?</p>
            <p style="font-size: 0.9rem; text-align: center;" *ngIf="pauseTotalTrade">Are you sure to resume trading for this account?</p>

            <div class="foot-l" style="text-align: center;margin-bottom:1rem">
              <button type="button" class="dialog_btn_P" data-bs-dismiss="modal" *ngIf="!pauseTotalTrade" style="margin:0" (click)="pauseAcc('Y')">Yes</button>
              <button type="button" class="dialog_btn_P" data-bs-dismiss="modal" *ngIf="pauseTotalTrade" style="margin:0" (click)="pauseAcc('N')">Yes</button>
              <button type="button" class="dialog_btn_S" data-bs-dismiss="modal" style="margin-left:0.5rem">No</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade warningautoModel" id="accPauseProcess"  tabindex="-1" role="dialog"
     aria-labelledby="viewQueueModal" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:30%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <p style="text-align: center;">
              <span class="material-icons" style="font-size: 3rem;color: var(--btn-border);opacity: .75;">
                error_outline
              </span>
            </p>
            <p style="font-size: 0.9rem; padding: 0 1rem 1rem;">The account is currently paused. To proceed with them, click continue.</p>
            <div class="w-100" style="font-size: 0.85rem;color: var(--leftSideText);text-align: left;margin-bottom: 1rem;">
              <div class="d-flex align-items-center justify-content-center w-100">
                <span style="width: 8rem;text-align: right;">User name:</span>
                <span style="min-width: 8rem;padding-left: 0.5rem;color: var(--leftSideText-B);">{{pauseInfo['pauseUserName']}}</span>
              </div>
              <div class="d-flex align-items-center justify-content-center">
                <span style="width: 8rem;text-align: right;">Paused Date:</span>
                <span style="min-width: 8rem;padding-left: 0.5rem;color: var(--leftSideText-B);">{{pauseInfo['pauseDate'] | date: 'MM/dd/yyyy' }}</span>
              </div>
            </div>
            <div class="foot-l">
              <button type="button" class="mod-foot-btn-activeP mr_p_5" data-bs-dismiss="modal" (click)="processACC()">Continue</button>
              <button type="button" class="mod-foot-btn-activeS" data-bs-dismiss="modal">Cancel</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade warningautoModel" id="myexistingTaxlotModalRealized" tabindex="-1" role="dialog" aria-labelledby="myexistingTaxlotModalRealized" aria-hidden="true" style="background: #000000bf !important;">
  <div class="modal-dialog modal-dialog-centered delete-stat-modal" role="document" style="max-width:50%">
    <div class="modal-content">
      <div class="split-mod-l">
        <div class="split-mod-right">
          <div class="close-l" data-bs-dismiss="modal" aria-label="Close" style="z-index:9999;"><span class="material-icons">close</span></div>
          <div class="content-btm" style="border-radius: 0.5rem !important; border: none; text-align: center; ">
            <h3 style="border-bottom: 1px dotted var(--border); padding-bottom: 1.2rem;">Realized Taxlot Information <span *ngIf="taxlotRealizedModalDataTicker.length > 0">({{taxlotRealizedModalDataTicker}})</span></h3>
            <div class="taxlotInfoOuter">
              <table class="table">
                <thead>
                  <tr>
                    <th style="text-align:left">Opening Date</th>
                    <th style="text-align: left; ">Closing Date</th>
                    <th style="text-align:right">Quantity </th>
                    <th style="text-align:right">Cost Basis</th>
                    <th style="text-align:right">Proceeds</th>
                    <th style="text-align:right" class="nw">Realized P&L ($)</th>
                    <th style="text-align:right">Term</th>
                  </tr>
                </thead>
                <tbody *ngIf="taxlotRealizedModalData.length>0">
                  <tr *ngFor="let data of taxlotRealizedModalData">
                    <td style="text-align:left">{{sharedData.dateFormatMMDDYYYY(data.OpeningDate)}}</td>
                    <td style="text-align: left;">{{sharedData.dateFormatMMDDYYYY(data.ClosingDate)}}</td>
                  <td style="text-align:right">{{sharedData.numberWithCommas(data.Quantity)}}</td>
                  <td style="text-align:right">{{sharedData.numFormatWithComma(data.CostBasis)}}</td>
                  <td style="text-align:right">{{sharedData.numFormatWithComma(data.Proceeds)}}</td>

                  <td style="text-align:right" >
                    <span  mat-menu-item class="accMenuFirst"  
                    matTooltipClass='nav_tooltip' matTooltipPosition="above" [matTooltip]="data.GainLossPercent+'%' "style="color: #50cd89" *ngIf="isPershingLossorGain(data.GainLoss) &&  data.GainLoss != 0">
                      {{sharedData.numFormatWithComma(data.GainLoss)}}
                    </span>
                    <span mat-menu-item class="accMenuFirst" 
                    matTooltipClass='nav_tooltip' matTooltipPosition="above" [matTooltip]="data.GainLossPercent+'%'" style="color: #f1416c" *ngIf="!isPershingLossorGain(data.GainLoss) &&  data.GainLoss != 0">
                      {{sharedData.numFormatWithComma(data.GainLoss)}}
                    </span>
                    <span mat-menu-item class="accMenuFirst" 
                    matTooltipClass='nav_tooltip' matTooltipPosition="above" [matTooltip]="data.GainLossPercent+'%'" *ngIf="sharedData.nullCheck(data, 'GainLoss') && data.GainLoss == 0">
                      {{sharedData.numFormatWithComma(data.GainLoss)}}
                    </span>
                  </td>
                    <td style="text-align:right">{{data.Term}}</td>

                  </tr>
                </tbody>
                <tbody *ngIf="taxlotRealizedModalData.length == 0">
                  <tr style="display: inline;"><td colspan="6" style="text-align: center;height: 6rem;">No records Found</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
